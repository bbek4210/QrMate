(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8806:function(t,e,a){Promise.resolve().then(a.t.bind(a,4811,23)),Promise.resolve().then(a.bind(a,9064)),Promise.resolve().then(a.bind(a,530)),Promise.resolve().then(a.bind(a,4362)),Promise.resolve().then(a.t.bind(a,9268,23))},530:function(t,e,a){"use strict";a.d(e,{QueryProvider:function(){return w}});var s=a(7437),n=a(2265),i=a(5345),r=a(1733),o=a(5843),u=a(4112),c=class extends u.l{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,a){let s=e.queryKey,n=e.queryHash??(0,i.Rm)(s,e),o=this.get(n);return o||(o=new r.A({client:t,queryKey:s,queryHash:n,options:t.defaultQueryOptions(e),state:a,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){o.Vr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,i._x)(e,t))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(e=>(0,i._x)(t,e)):e}notify(t){o.Vr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){o.Vr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){o.Vr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},l=a(2894),h=class extends u.l{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#a=new Map,this.#s=0}#e;#a;#s;build(t,e,a){let s=new l.m({mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(e),state:a});return this.add(s),s}add(t){this.#e.add(t);let e=d(t);if("string"==typeof e){let a=this.#a.get(e);a?a.push(t):this.#a.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){let e=d(t);if("string"==typeof e){let a=this.#a.get(e);if(a){if(a.length>1){let e=a.indexOf(t);-1!==e&&a.splice(e,1)}else a[0]===t&&this.#a.delete(e)}}}this.notify({type:"removed",mutation:t})}canRun(t){let e=d(t);if("string"!=typeof e)return!0;{let a=this.#a.get(e),s=a?.find(t=>"pending"===t.state.status);return!s||s===t}}runNext(t){let e=d(t);if("string"!=typeof e)return Promise.resolve();{let a=this.#a.get(e)?.find(e=>e!==t&&e.state.isPaused);return a?.continue()??Promise.resolve()}}clear(){o.Vr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#a.clear()})}getAll(){return Array.from(this.#e)}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,i.X7)(e,t))}findAll(t={}){return this.getAll().filter(e=>(0,i.X7)(t,e))}notify(t){o.Vr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(t=>t.state.isPaused);return o.Vr.batch(()=>Promise.all(t.map(t=>t.continue().catch(i.ZT))))}};function d(t){return t.options.scope?.id}var f=a(7045),p=a(7853);function y(t){return{onFetch:(e,a)=>{let s=e.options,n=e.fetchOptions?.meta?.fetchMore?.direction,r=e.state.data?.pages||[],o=e.state.data?.pageParams||[],u={pages:[],pageParams:[]},c=0,l=async()=>{let a=!1,l=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(e.signal.aborted?a=!0:e.signal.addEventListener("abort",()=>{a=!0}),e.signal)})},h=(0,i.cG)(e.options,e.fetchOptions),d=async(t,s,n)=>{if(a)return Promise.reject();if(null==s&&t.pages.length)return Promise.resolve(t);let r=(()=>{let t={client:e.client,queryKey:e.queryKey,pageParam:s,direction:n?"backward":"forward",meta:e.options.meta};return l(t),t})(),o=await h(r),{maxPages:u}=e.options,c=n?i.Ht:i.VX;return{pages:c(t.pages,o,u),pageParams:c(t.pageParams,s,u)}};if(n&&r.length){let t="backward"===n,e={pages:r,pageParams:o},a=(t?function(t,{pages:e,pageParams:a}){return e.length>0?t.getPreviousPageParam?.(e[0],e,a[0],a):void 0}:g)(s,e);u=await d(e,a,t)}else{let e=t??r.length;do{let t=0===c?o[0]??s.initialPageParam:g(s,u);if(c>0&&null==t)break;u=await d(u,t),c++}while(c<e)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},a):e.fetchFn=l}}}function g(t,{pages:e,pageParams:a}){let s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,a[s],a):void 0}var m=class{#n;#i;#r;#o;#u;#c;#l;#h;constructor(t={}){this.#n=t.queryCache||new c,this.#i=t.mutationCache||new h,this.#r=t.defaultOptions||{},this.#o=new Map,this.#u=new Map,this.#c=0}mount(){this.#c++,1===this.#c&&(this.#l=f.j.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#n.onFocus())}),this.#h=p.N.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#n.onOnline())}))}unmount(){this.#c--,0===this.#c&&(this.#l?.(),this.#l=void 0,this.#h?.(),this.#h=void 0)}isFetching(t){return this.#n.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#i.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#n.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),a=this.#n.build(this,e),s=a.state.data;return void 0===s?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime((0,i.KC)(e.staleTime,a))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#n.findAll(t).map(({queryKey:t,state:e})=>[t,e.data])}setQueryData(t,e,a){let s=this.defaultQueryOptions({queryKey:t}),n=this.#n.get(s.queryHash),r=n?.state.data,o=(0,i.SE)(e,r);if(void 0!==o)return this.#n.build(this,s).setData(o,{...a,manual:!0})}setQueriesData(t,e,a){return o.Vr.batch(()=>this.#n.findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,a)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#n.get(e.queryHash)?.state}removeQueries(t){let e=this.#n;o.Vr.batch(()=>{e.findAll(t).forEach(t=>{e.remove(t)})})}resetQueries(t,e){let a=this.#n;return o.Vr.batch(()=>(a.findAll(t).forEach(t=>{t.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let a={revert:!0,...e};return Promise.all(o.Vr.batch(()=>this.#n.findAll(t).map(t=>t.cancel(a)))).then(i.ZT).catch(i.ZT)}invalidateQueries(t,e={}){return o.Vr.batch(()=>(this.#n.findAll(t).forEach(t=>{t.invalidate()}),t?.refetchType==="none")?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e))}refetchQueries(t,e={}){let a={...e,cancelRefetch:e.cancelRefetch??!0};return Promise.all(o.Vr.batch(()=>this.#n.findAll(t).filter(t=>!t.isDisabled()&&!t.isStatic()).map(t=>{let e=t.fetch(void 0,a);return a.throwOnError||(e=e.catch(i.ZT)),"paused"===t.state.fetchStatus?Promise.resolve():e}))).then(i.ZT)}fetchQuery(t){let e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);let a=this.#n.build(this,e);return a.isStaleByTime((0,i.KC)(e.staleTime,a))?a.fetch(e):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(i.ZT).catch(i.ZT)}fetchInfiniteQuery(t){return t.behavior=y(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(i.ZT).catch(i.ZT)}ensureInfiniteQueryData(t){return t.behavior=y(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return p.N.isOnline()?this.#i.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#n}getMutationCache(){return this.#i}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#o.set((0,i.Ym)(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#o.values()],a={};return e.forEach(e=>{(0,i.to)(t,e.queryKey)&&Object.assign(a,e.defaultOptions)}),a}setMutationDefaults(t,e){this.#u.set((0,i.Ym)(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#u.values()],a={};return e.forEach(e=>{(0,i.to)(t,e.mutationKey)&&Object.assign(a,e.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=(0,i.Rm)(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===i.CN&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#n.clear(),this.#i.clear()}},v=a(9827);function w(t){let{children:e}=t,[a]=(0,n.useState)(()=>new m);return(0,s.jsx)(v.aH,{client:a,children:e})}},4362:function(t,e,a){"use strict";a.d(e,{AuthProvider:function(){return c},a:function(){return l}});var s=a(7437),n=a(2265),i=a(4453),r=a(9064),o=a(1837);let u=(0,n.createContext)(void 0);function c(t){let{children:e}=t,[a,c]=(0,n.useState)(null),[l,h]=(0,n.useState)(null),[d,f]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let t=localStorage.getItem("qr-mate-access-token"),e=localStorage.getItem("qr-mate-user");if(t&&e)try{h(t),c(JSON.parse(e)),i.Z.defaults.headers.common.Authorization="Bearer ".concat(t),p(t)}catch(t){console.error("Error parsing saved auth data:",t),y()}f(!1)},[]);let p=async t=>{try{await o.hi.user.getProfile()}catch(t){console.error("Token verification failed:",t),y(),r.ZP.error("Session expired. Please login again.")}},y=()=>{c(null),h(null),delete i.Z.defaults.headers.common.Authorization,localStorage.removeItem("qr-mate-access-token"),localStorage.removeItem("qr-mate-user")},g=async(t,e)=>{try{let a=await o.hi.auth.login({email:t,password:e});if("SUCCESS"!==a.status||!a.data)return r.ZP.error(a.message||"Login failed"),!1;{let{access_token:t,refresh_token:e,user:s}=a.data;return c(s),h(t),i.Z.defaults.headers.common.Authorization="Bearer ".concat(t),localStorage.setItem("qr-mate-access-token",t),localStorage.setItem("qr-mate-refresh-token",e),localStorage.setItem("qr-mate-user",JSON.stringify(s)),r.ZP.success("Login successful!"),!0}}catch(e){var a,s;console.error("Login error:",e);let t=(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Login failed. Please try again.";return r.ZP.error(t),!1}},m=async t=>{try{let e=await o.hi.auth.signup(t);if("SUCCESS"!==e.status||!e.data)return r.ZP.error(e.message||"Registration failed"),!1;{let{access_token:t,refresh_token:a,user:s}=e.data;return c(s),h(t),i.Z.defaults.headers.common.Authorization="Bearer ".concat(t),localStorage.setItem("qr-mate-access-token",t),localStorage.setItem("qr-mate-refresh-token",a),localStorage.setItem("qr-mate-user",JSON.stringify(s)),r.ZP.success("Account created successfully!"),!0}}catch(s){var e,a;console.error("Signup error:",s);let t=(null===(a=s.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Registration failed. Please try again.";return r.ZP.error(t),!1}};return(0,s.jsx)(u.Provider,{value:{user:a,login:g,signup:m,logout:()=>{y(),r.ZP.success("Logged out successfully")},isLoading:d,accessToken:l},children:e})}function l(){let t=(0,n.useContext)(u);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}},1837:function(t,e,a){"use strict";a.d(e,{hi:function(){return n}});var s=a(4453);let n={auth:{login:async t=>(await s.Z.post("/auth/login/",t)).data,signup:async t=>(await s.Z.post("/auth/signup/",t)).data,test:async()=>(await s.Z.get("/test/")).data},user:{getProfile:async()=>(await s.Z.get("/web/profile/")).data,updateProfile:async t=>(await s.Z.put("/web/profile/",t)).data,getPositions:async()=>(await s.Z.get("/positions/")).data,sendFeedback:async t=>(await s.Z.post("/userfeedback/",t,{headers:{"Content-Type":"multipart/form-data"}})).data,getFields:async()=>(await s.Z.get("/fields/")).data},events:{createOrJoinEvent:async t=>(await s.Z.post("/event/",t)).data,getAdminEvents:async()=>(await s.Z.get("/admin_event/")).data,joinEventByCode:async t=>(await s.Z.post("/event/join/".concat(t,"/"))).data,getAttendees:async t=>(await s.Z.get("/attendees/".concat(t?"?event=".concat(t):""))).data},networking:{createNetwork:async t=>(await s.Z.post("/create-a-network/",t)).data,getNetworksAndConnections:async t=>{let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,s]=t;s&&e.append(a,s.toString())}),(await s.Z.get("/networks_and_connnections/?".concat(e.toString()))).data},getNetworkDetails:async t=>(await s.Z.get("/networks_and_connnections/".concat(t,"/"))).data,getConnectedUserDetails:async t=>(await s.Z.get("/networks_and_connnections/".concat(t,"/"))).data,getNetworkInformation:async t=>(await s.Z.get("/get-network-information/".concat(t,"/"))).data,saveNetworkInformation:async t=>(await s.Z.post("/save-network-information/",t)).data,sendNetworkingRequest:async t=>(await s.Z.post("/networking/send-request/",t)).data,getReceivedRequests:async()=>(await s.Z.get("/networking/received-requests/")).data,getSentRequests:async()=>(await s.Z.get("/networking/sent-requests/")).data,respondToRequest:async(t,e,a)=>(await s.Z.post("/networking/respond/".concat(t,"/"),{response:e,message:a})).data,getMyConnections:async()=>(await s.Z.get("/networking/connections/")).data,browseUsers:async t=>{let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,s]=t;s&&e.append(a,s.toString())}),(await s.Z.get("/users/browse/?".concat(e.toString()))).data},filterUsers:async t=>(await s.Z.post("/users/filter/",t)).data,getNotificationCount:async()=>(await s.Z.get("/notifications/count/")).data,reportSpam:async t=>(await s.Z.post("/networking/spam-reports/",t)).data},wallet:{connectWallet:async t=>(await s.Z.post("/wallet/connect/",t)).data,getTransactionStatus:async t=>(await s.Z.get("/transaction/status/".concat(t,"/"))).data,mockTransaction:async t=>(await s.Z.post("/transaction/mock/",t)).data,debugWallet:async()=>(await s.Z.get("/wallet/debug/")).data},file:{uploadFile:async(t,e)=>{let a=new FormData;return a.append("file",t),a.append("key",e),(await s.Z.post("/upload/file/",a,{headers:{"Content-Type":"multipart/form-data"}})).data}},health:{networkingHealthCheck:async()=>(await s.Z.get("/networking/health-check/")).data,networkingDebug:async()=>(await s.Z.get("/networking/debug/")).data}}},4453:function(t,e,a){"use strict";a.d(e,{$:function(){return n}});var s=a(3464);async function n(t){try{await s.Z.post("https://discord.com/api/webhooks/1365007210907828338/02w2lA9oEm8hPZGjpClx4ZJtF55fF7Xu3NvMFvxuDlA5LxVtx7pBKJh8IgHx3ZrP8xna",{content:t})}catch(t){console.error("Failed to send log to Discord:",t)}}let i=s.Z.create({baseURL:"".concat("http://localhost:8000","/api/v1"),headers:{"Content-Type":"application/json"}});i.interceptors.request.use(async t=>{var e;let a=localStorage.getItem("qr-mate-access-token");return a&&(t.headers.Authorization="Bearer ".concat(a)),n(["\uD83D\uDD04 **API REQUEST**","**Method**: ".concat(null===(e=t.method)||void 0===e?void 0:e.toUpperCase()),"**URL**: ".concat(t.baseURL).concat(t.url),"**Headers**:\n```json\n".concat(JSON.stringify(t.headers.Authorization,null,2),"\n```"),t.data?"**Body**:\n```json\n".concat(JSON.stringify(t.data,null,2),"\n```"):"**Body**: _empty_"].join("\n")),t},t=>(n("⚠️ Request Setup Error:\n```\n".concat(t.message,"\n```")),Promise.reject(t))),i.interceptors.response.use(t=>t,async t=>{var e,a;let{config:s,response:i}=t;return console.log({response:i}),(null==i?void 0:i.status)===401&&(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.code)==="token_not_valid"&&(localStorage.removeItem("qr-mate-access-token"),localStorage.removeItem("qr-mate-refresh-token"),localStorage.removeItem("qr-mate-user"),window.location.href="/login"),n(["❌ **API ERROR**","**Method**: ".concat(null==s?void 0:null===(a=s.method)||void 0===a?void 0:a.toUpperCase()),"**URL**: ".concat(null==s?void 0:s.baseURL).concat(null==s?void 0:s.url),"**Status**: ".concat((null==i?void 0:i.status)||"N/A"),"**Status Text**: ".concat((null==i?void 0:i.statusText)||"N/A"),"**Response Data**:\n```json\n".concat(JSON.stringify((null==i?void 0:i.data)||t.message,null,2),"\n```")].join("\n")),Promise.reject(t)}),e.Z=i},9268:function(){},4811:function(t){t.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c"}},2894:function(t,e,a){"use strict";a.d(e,{R:function(){return o},m:function(){return r}});var s=a(5843),n=a(7989),i=a(1255),r=class extends n.F{#d;#i;#f;constructor(t){super(),this.mutationId=t.mutationId,this.#i=t.mutationCache,this.#d=[],this.state=t.state||o(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#d.includes(t)||(this.#d.push(t),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#d=this.#d.filter(e=>e!==t),this.scheduleGc(),this.#i.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#d.length||("pending"===this.state.status?this.scheduleGc():this.#i.remove(this))}continue(){return this.#f?.continue()??this.execute(this.state.variables)}async execute(t){let e=()=>{this.#p({type:"continue"})};this.#f=(0,i.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(Error("No mutationFn found")),onFail:(t,e)=>{this.#p({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#p({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#i.canRun(this)});let a="pending"===this.state.status,s=!this.#f.canStart();try{if(a)e();else{this.#p({type:"pending",variables:t,isPaused:s}),await this.#i.config.onMutate?.(t,this);let e=await this.options.onMutate?.(t);e!==this.state.context&&this.#p({type:"pending",context:e,variables:t,isPaused:s})}let n=await this.#f.start();return await this.#i.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#i.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#p({type:"success",data:n}),n}catch(e){try{throw await this.#i.config.onError?.(e,t,this.state.context,this),await this.options.onError?.(e,t,this.state.context),await this.#i.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,e,t,this.state.context),e}finally{this.#p({type:"error",error:e})}}finally{this.#i.runNext(this)}}#p(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),s.Vr.batch(()=>{this.#d.forEach(e=>{e.onMutationUpdate(t)}),this.#i.notify({mutation:this,type:"updated",action:t})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}}},function(t){t.O(0,[857,707,763,971,117,744],function(){return t(t.s=8806)}),_N_E=t.O()}]);